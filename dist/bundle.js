(()=>{"use strict";var t={16:(t,e,i)=>{i.r(e)},607:function(t,e,i){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),i(16),new(s(i(829)).default)},858:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{constructor(){this.element=document.getElementById("food")}get X(){return this.element.offsetLeft}get Y(){return this.element.offsetTop}set X(t){this.element.style.left=t+"px"}set Y(t){this.element.style.top=t+"px"}change(){let t=10*Math.floor(19*Math.random()),e=10*Math.floor(29*Math.random());this.element.style.left=t+"px",this.element.style.top=e+"px"}}},829:function(t,e,i){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const n=s(i(858)),d=s(i(157)),o=s(i(145));e.default=class{constructor(){this.direction="",this.isLive=!0,this.btnw=document.getElementById("btn-w"),this.btns=document.getElementById("btn-s"),this.btna=document.getElementById("btn-a"),this.btnd=document.getElementById("btn-d"),this.food=new n.default,this.snake=new d.default,this.scorePanel=new o.default,this.init()}init(){document.addEventListener("keydown",this.keydownHandler.bind(this)),this.btnw.addEventListener("click",this.clickHandler.bind(this)),this.btns.addEventListener("click",this.clickHandler.bind(this)),this.btna.addEventListener("click",this.clickHandler.bind(this)),this.btnd.addEventListener("click",this.clickHandler.bind(this)),this.btnw.addEventListener("touchstart",this.touchHandler.bind(this)),this.btns.addEventListener("touchstart",this.touchHandler.bind(this)),this.btna.addEventListener("touchstart",this.touchHandler.bind(this)),this.btnd.addEventListener("touchstart",this.touchHandler.bind(this)),this.food.change(),this.run()}keydownHandler(t){"w"===t.key&&"s"===this.direction||"s"===t.key&&"w"===this.direction||"a"===t.key&&"d"===this.direction||"d"===t.key&&"a"===this.direction||(this.direction=t.key)}touchHandler(t){console.log(t.currentTarget.id);const e=t.currentTarget.id.at(-1);"w"===e&&"s"===this.direction||"s"===e&&"w"===this.direction||"a"===e&&"d"===this.direction||"d"===e&&"a"===this.direction||(this.direction=e)}clickHandler(t){const e=t.currentTarget.id.at(-1);"w"===e&&"s"===this.direction||"s"===e&&"w"===this.direction||"a"===e&&"d"===this.direction||"d"===e&&"a"===this.direction||(this.direction=e)}run(){let t=this.snake.X,e=this.snake.Y;switch(this.direction){case"w":e-=10;break;case"s":e+=10;break;case"a":t-=10;break;case"d":t+=10}this.checkAteFood();try{this.snake.move(t,e)}catch(t){alert(t.message),this.isLive=!1}this.isLive&&setTimeout(this.run.bind(this),300-28*this.scorePanel.level)}checkAteFood(){this.food.X===this.snake.X&&this.food.Y===this.snake.Y&&(this.food.change(),this.scorePanel.addScore(),this.snake.addBody())}}},145:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{constructor(){this.score=0,this.level=1,this.scoreEle=document.getElementById("score"),this.levelEle=document.getElementById("level")}addScore(){this.scoreEle.innerHTML=++this.score+"",this.score%3==0&&this.addlevel()}addlevel(){this.level<10&&(this.levelEle.innerHTML=++this.level+"")}}},157:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{constructor(){this.snake=document.getElementById("snake"),this.head=document.querySelector("#snake>div"),this.bodies=document.getElementById("snake").getElementsByTagName("div")}get X(){return this.head.offsetLeft}get Y(){return this.head.offsetTop}set X(t){t!==this.X&&(this.moveBody(),this.head.style.left=t+"px",this.checkHitBody())}set Y(t){t!==this.Y&&(this.moveBody(),this.head.style.top=t+"px",this.checkHitBody())}move(t,e){if(t<0||t>190)throw new Error("Hit wall!");if(e<0||e>290)throw new Error("Hit wall!");this.X=t,this.Y=e}addBody(){const t=document.createElement("div");this.snake.appendChild(t)}moveBody(){for(let t=this.bodies.length-1;t>0;t--)this.bodies[t].style.left=this.bodies[t-1].offsetLeft+"px",this.bodies[t].style.top=this.bodies[t-1].offsetTop+"px"}checkHitBody(){for(let t=1;t<this.bodies.length;t++)if(this.X===this.bodies[t].offsetLeft&&this.Y===this.bodies[t].offsetTop)throw new Error("Hit body!")}}}},e={};function i(s){var n=e[s];if(void 0!==n)return n.exports;var d=e[s]={exports:{}};return t[s].call(d.exports,d,d.exports,i),d.exports}i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i(607)})();