(()=>{"use strict";var e={16:(e,t,s)=>{s.r(t)},607:function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),s(16),new(i(s(829)).default)},858:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.element=document.getElementById("food")}get X(){return this.element.offsetLeft}get Y(){return this.element.offsetTop}set X(e){this.element.style.left=e+"px"}set Y(e){this.element.style.top=e+"px"}change(){let e=10*Math.floor(19*Math.random()),t=10*Math.floor(29*Math.random());this.element.style.left=e+"px",this.element.style.top=t+"px"}}},829:function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=i(s(858)),o=i(s(157)),d=i(s(145));t.default=class{constructor(){this.direction="",this.isLive=!0,this.btnw=document.getElementById("btn-w"),this.btns=document.getElementById("btn-s"),this.btna=document.getElementById("btn-a"),this.btnd=document.getElementById("btn-d"),this.food=new n.default,this.snake=new o.default,this.scorePanel=new d.default,this.init()}init(){document.addEventListener("keydown",this.keydownHandler.bind(this)),this.btnw.addEventListener("click",this.clickHandler.bind(this)),this.btns.addEventListener("click",this.clickHandler.bind(this)),this.btna.addEventListener("click",this.clickHandler.bind(this)),this.btnd.addEventListener("click",this.clickHandler.bind(this)),this.food.change(),this.run()}keydownHandler(e){"w"===e.key&&"s"===this.direction||"s"===e.key&&"w"===this.direction||"a"===e.key&&"d"===this.direction||"d"===e.key&&"a"===this.direction||(this.direction=e.key)}clickHandler(e){const t=e.currentTarget.id.at(-1);"w"===t&&"s"===this.direction||"s"===t&&"w"===this.direction||"a"===t&&"d"===this.direction||"d"===t&&"a"===this.direction||(this.direction=t)}run(){let e=this.snake.X,t=this.snake.Y;switch(this.direction){case"w":t-=10;break;case"s":t+=10;break;case"a":e-=10;break;case"d":e+=10}this.checkAteFood();try{this.snake.move(e,t)}catch(e){alert(e.message),this.isLive=!1}this.isLive&&setTimeout(this.run.bind(this),300-28*this.scorePanel.level)}checkAteFood(){this.food.X===this.snake.X&&this.food.Y===this.snake.Y&&(this.food.change(),this.scorePanel.addScore(),this.snake.addBody())}}},145:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.score=0,this.level=1,this.scoreEle=document.getElementById("score"),this.levelEle=document.getElementById("level")}addScore(){this.scoreEle.innerHTML=++this.score+"",this.score%3==0&&this.addlevel()}addlevel(){this.level<10&&(this.levelEle.innerHTML=++this.level+"")}}},157:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.snake=document.getElementById("snake"),this.head=document.querySelector("#snake>div"),this.bodies=document.getElementById("snake").getElementsByTagName("div")}get X(){return this.head.offsetLeft}get Y(){return this.head.offsetTop}set X(e){e!==this.X&&(this.moveBody(),this.head.style.left=e+"px",this.checkHitBody())}set Y(e){e!==this.Y&&(this.moveBody(),this.head.style.top=e+"px",this.checkHitBody())}move(e,t){if(e<0||e>190)throw new Error("Hit wall!");if(t<0||t>290)throw new Error("Hit wall!");this.X=e,this.Y=t}addBody(){const e=document.createElement("div");this.snake.appendChild(e)}moveBody(){for(let e=this.bodies.length-1;e>0;e--)this.bodies[e].style.left=this.bodies[e-1].offsetLeft+"px",this.bodies[e].style.top=this.bodies[e-1].offsetTop+"px"}checkHitBody(){for(let e=1;e<this.bodies.length;e++)if(this.X===this.bodies[e].offsetLeft&&this.Y===this.bodies[e].offsetTop)throw new Error("Hit body!")}}}},t={};function s(i){var n=t[i];if(void 0!==n)return n.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,s),o.exports}s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s(607)})();